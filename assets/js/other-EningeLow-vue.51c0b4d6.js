(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["other-EningeLow-vue"],{"0270":function(e,t,n){"use strict";var a=n("9475"),r=n.n(a);r.a},"6a02":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-lg-5 col-md-7"},[n("div",{staticClass:"card bg-custom shadow border-0"},[e.auth?n("div",{staticClass:"card-header bg-white pb-5"},[e._m(0),n("base-filepond",{attrs:{uploadedCallBack:e.updateQRCode}})],1):e._e(),n("div",{staticClass:"card-body px-lg-5 py-lg-5"},[e.auth?n("div",{staticClass:"text-muted text-center mt-2 mb-3 font-weight-bolder"},[n("small",[e._v("当前二维码")])]):e._e(),n("div",{staticClass:"center-cropped",style:"background-image: url("+e.QRcode+");"},[n("img",{attrs:{src:e.QRcode}})])])])])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center text-muted mb-4 font-weight-bolder"},[n("small",[e._v("把新的二维码裁剪好并拖拽上传即可")])])}],c=(n("ac6a"),n("c5f6"),n("96cf"),n("3b8d")),s=(n("fa20"),n("2f62"),n("5118"),n("0631")),o=n.n(s),i={name:"login",beforeCreate:function(){var e=this,t=new o.a.Query("EningeQRCode");t.descending("updatedAt");t.first().then(function(t){var n=1,a=330*n,r=420*n;e.QRcode=t.get("attachmentURL")+"?imageView2/1/w/".concat(a,"/h/").concat(r)})},computed:{auth:function(){return!!o.a.User.current()}},data:function(){return{model:{username:"",password:""},QRcode:""}},methods:{updateQRCode:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var a,r,c,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=n.file.qiniu.data,console.log(a),r=o.a.Object.extend("EningeQRCode"),c=new r,e.t0=regeneratorRuntime.keys(a);case 5:if((e.t1=e.t0()).done){e.next=15;break}if(s=e.t1.value,"url"!=s){e.next=12;break}return e.next=10,this.$http.get("/functions/expand?url=".concat(a[s]));case 10:i=e.sent,c.set("attachmentURL",i.data.expandedURL);case 12:"size"==s?c.set(s,Number(a[s])):c.set(s,a[s]),e.next=5;break;case 15:return c.save().then(function(){console.log("已上传到LeanCloud")},function(e){console.log(JSON.stringify(e))}),e.abrupt("return");case 17:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}},u=i,d=(n("0270"),n("2877")),l=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=l.exports},9475:function(e,t,n){}}]);