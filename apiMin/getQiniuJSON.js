var requestJS=require("request");async function getQiniuJSON(e){var n=e.params.fileNameArr,r=await AV.Cloud.run("getShimoTokenRaw");return new Promise((e,i)=>{requestJS.post(`https://uploader.shimo.im/token?server=qiniu&type=attachments&accessToken=${r}`,{json:!0,body:n},(n,r,t)=>{n?i(!1):e(t)})})}var AV=require("leanengine");AV.Cloud.define("getQiniuJSON",async function(e){return await getQiniuJSON(e)});