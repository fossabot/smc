var AV=require("leanengine"),requestJS=require("request");async function getQiniuJSON(e){var n=e.params.fileNameArr,i=await AV.Cloud.run("getShimoTokenRaw");return new Promise((e,r)=>{requestJS.post(`https://uploader.shimo.im/token?server=qiniu&type=attachments&accessToken=${i}`,{json:!0,body:n},(n,i,t)=>{n?r(!1):e(t)})})}AV.Cloud.define("getQiniuJSON",async function(e){return await getQiniuJSON(e)});